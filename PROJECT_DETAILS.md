# AI-MindFlow 项目深度文档

AI-MindFlow 是一款基于 AI 驱动的现代化、交互式思维导图与创意画布工具。它结合了传统思维导图的结构化思维与自由画布的灵活性，旨在为用户提供一个无限延伸的数字思考空间。

---

## 📖 目录
1. [项目简介](#项目简介)
2. [核心功能](#核心功能)
3. [创新特性](#创新特性)
4. [操作指南](#操作指南)
5. [常见问题 (FAQ)](#常见问题)
6. [技术架构](#技术架构)
7. [版本更新记录](#版本更新记录)

---

<a name="项目简介"></a>
## 1. 项目简介
AI-MindFlow 不仅仅是一个思维导图工具，它是一个**智能创意中心**。通过集成先进的大语言模型，它能够理解用户的意图，自动扩充思路，并将碎片化的信息自动组织成美观、逻辑严密的图表。

---

<a name="核心功能"></a>
## 2. 核心功能

### 🧠 AI 协作能力
- **智能扩充**：选中节点后，一键生成相关子节点，突破思维瓶颈。
- **对话式引导**：支持自定义 Prompt，引导 AI 按特定逻辑（如 SWOT 分析、5W2H 等）生成内容。
- **实时进度反馈**：创新的“正在思索中”状态跟随节点显示，让 AI 协作过程直观透明。

### 🎨 混合画布模式
- **结构化节点**：经典的思维导图节点，支持自动布局。
- **自由元素**：支持插入矩形、圆形、文本框，可用于制作流程图或灵感墙。
- **多媒体嵌入**：
    - **视频播放**：直接嵌入 YouTube、Bilibili 视频或本地 MP4 文件。
    - **播放器控制**：内置全屏、刷新、播放/暂停等完整控制组件。
    - **图片插入**：支持高清图片嵌入，保持创作的丰富性。

### 🔗 灵活连接系统
- **磁吸连线**：元素间支持自动磁吸连线，移动元素时连线自动追踪。
- **多种线型**：支持曲线、折线、直线等多种连接风格，满足不同审美需求。

---

<a name="创新特性"></a>
## 3. 创新特性

- **极致交互体验**：
    - **自动聚焦**：智能识别低缩放倍率下的点击，确保在大规模导图中也能精准操作。
    - **丝滑缩放**：优化了 70%-150% 常用区间的缩放平滑度。
- **数据安全保障**：
    - **专属加密格式 (.amf)**：采用二进制加密存储，保护您的个人创意与隐私。
- **视觉品牌化**：
    - 全局支持深色/浅色模式无缝切换。
    - 统一的 UI 规范，基于 shadcn/ui 打造专业级界面。

---

<a name="操作指南"></a>
## 4. 操作指南

### 基础快捷键
| 动作 | 快捷键 |
| :--- | :--- |
| **添加子节点** | `Tab` |
| **添加同级节点** | `Enter` |
| **编辑内容** | `F2` 或 `双击` |
| **删除选中** | `Delete` 或 `Backspace` |
| **展开/折叠** | `Space` |
| **撤销/重做** | `Ctrl + Z` / `Ctrl + Y` |
| **保存项目** | `Ctrl + S` |

### 高级技巧
- **快速导出**：通过工具栏可以导出透明 PNG (适合嵌入 PPT) 或白色背景 JPG。
- **AI 交互**：悬停在节点上点击 AI 图标，或按 `Shift + A` 呼出智能输入框。
- **连线删除**：选中连接线本身即可删除关联，而不会误删节点。

---

<a name="常见问题"></a>
## 5. 常见问题 (FAQ)

**Q: 为什么视频无法播放？**
A: 请确保链接有效。如果是本地视频，请确认浏览器支持该格式（推荐 .mp4）。某些第三方平台（如 Bilibili）可能因版权限制禁止在外部嵌入，建议使用标准的嵌入链接。

**Q: 如何迁移我的思维导图？**
A: 您可以将项目导出为 `.amf` 文件，在另一台设备的 AI-MindFlow 中通过“导入”功能完整还原。

**Q: 导出图片模糊怎么办？**
A: 系统默认以 2 倍采样率导出，确保在高清显示器上依然清晰。

---

<a name="技术架构"></a>
## 6. 技术架构

本项目采用最前沿的前端工程化实践：
- **前端核心**：React 18 + TypeScript (严格类型检查)。
- **状态流转**：Zustand (实现多级撤销重做与复杂画布状态管理)。
- **渲染引擎**：原生 Canvas API + DOM Overlay 混合模式，兼顾性能与交互丰富度。
- **样式方案**：Tailwind CSS + CSS Variables (实现极速主题切换)。

---

<a name="版本更新记录"></a>
## 7. 版本更新记录

### v1.1.0 (2026-02-05)
- **[优化]** 视频播放器重构，支持控制组件与全屏模式。
- **[新增]** 透明背景 PNG 与 JPG 导出选项。
- **[新增]** 加密 `.amf` 格式导出支持。
- **[修复]** 修复了低缩放倍率下无法聚焦的问题。
- **[改进]** AI 状态提示位置优化，增强视觉反馈。

---

Built with ❤️ by [ShiyouQi888](https://github.com/ShiyouQi888)
